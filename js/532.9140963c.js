"use strict";(self["webpackChunklight_bulb"]=self["webpackChunklight_bulb"]||[]).push([[532],{8013:function(e,t,n){n.d(t,{Z:function(){return c}});var o=n(3396),a=n(7139);const l={class:"footer"};function r(e,t,n,r,s,i){return(0,o.wg)(),(0,o.iD)("div",l,[(0,o._)("h3",null,"© "+(0,a.zw)(r.year)+" by Chen Chien Yu",1)])}var s={setup(){const e=(new Date).getFullYear();return{year:e}}},i=n(89);const u=(0,i.Z)(s,[["render",r],["__scopeId","data-v-b977a274"]]);var c=u},5532:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var o=n(3396),a=n(9242);const l=e=>((0,o.dD)("data-v-310097ce"),e=e(),(0,o.Cn)(),e),r={class:"wrapper"},s={class:"col-10 col-md-5 col-lg-2"},i=l((()=>(0,o._)("h2",null,"我的帳戶",-1))),u={for:"email"},c=l((()=>(0,o._)("p",null,"Email",-1))),d={for:"name"},m=l((()=>(0,o._)("p",null,"姓名",-1))),f={for:"address"},p=l((()=>(0,o._)("p",null,"地址",-1))),v={for:"tel"},w=l((()=>(0,o._)("p",null,"電話",-1)));function _(e,t,n,l,_,h){const g=(0,o.up)("Footer");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("form",s,[i,(0,o._)("div",null,[(0,o._)("label",u,[c,(0,o.wy)((0,o._)("input",{type:"email",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>l.userInfo.email=e),disabled:""},null,512),[[a.nr,l.userInfo.email,void 0,{trim:!0}]])])]),(0,o._)("div",null,[(0,o._)("label",d,[m,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>l.userInfo.name=e)},null,512),[[a.nr,l.userInfo.name,void 0,{trim:!0}]])])]),(0,o._)("div",null,[(0,o._)("label",f,[p,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>l.userInfo.address=e)},null,512),[[a.nr,l.userInfo.address,void 0,{trim:!0}]])])]),(0,o._)("div",null,[(0,o._)("label",v,[w,(0,o.wy)((0,o._)("input",{type:"tel",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>l.userInfo.tel=e)},null,512),[[a.nr,l.userInfo.tel,void 0,{trim:!0}]])])]),(0,o._)("button",{class:"btn",onClick:t[4]||(t[4]=(0,a.iM)(((...e)=>l.updateUserData&&l.updateUserData(...e)),["prevent"]))},"更新資料")]),(0,o.Wm)(g)])}n(7658);var h=n(4870),g=n(6943),b=n(8013),y=n(2483),C=n(65),I=n(2492),D=n.n(I),U={components:{Footer:b.Z},setup(){const e=(0,C.oR)(),t=(0,h.iH)(""),n=(0,y.tv)(),o=(0,h.iH)({});async function a(){try{e.commit("showLoadingCircle",!0);const n=await g.Z.get(`https://bulbgo.onrender.com/customer/user/${t.value}`,{withCredentials:!0}),{name:a,email:l,address:r,tel:s}=await n.data;o.value={name:a,email:l,address:r,tel:s},e.commit("showLoadingCircle",!1)}catch(n){console.log(n)}}async function l(){try{e.commit("showLoadingCircle",!0);const o=await g.Z.post("https://bulbgo.onrender.com/customer/verify",{},{withCredentials:!0});o.data.isLogin?(t.value=await o.data.user,e.commit("loginStatus",!0),await a()):await n.push("/login"),e.commit("showLoadingCircle",!1)}catch(o){console.log(o)}}async function r(){if(""!==o.value.name)try{const e=await g.Z.put(`https://bulbgo.onrender.com/customer/user/${t.value}`,o.value,{withCredentials:!0});D().fire({title:e.data.msg,icon:"success",showConfirmButton:!1,timer:1500})}catch(e){console.log(e)}else D().fire({title:"姓名欄位不得為空",icon:"error",showConfirmButton:!1,timer:1500})}return l(),{verifyLogin:l,getUserData:a,verifyID:t,userInfo:o,updateUserData:r}}},Z=n(89);const L=(0,Z.Z)(U,[["render",_],["__scopeId","data-v-310097ce"]]);var k=L}}]);
//# sourceMappingURL=532.9140963c.js.map