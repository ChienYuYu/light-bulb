"use strict";(self["webpackChunklight_bulb"]=self["webpackChunklight_bulb"]||[]).push([[878],{8013:function(t,e,o){o.d(e,{Z:function(){return i}});var n=o(3396),s=o(7139);const c={class:"footer"};function u(t,e,o,u,l,a){return(0,n.wg)(),(0,n.iD)("div",c,[(0,n._)("h3",null,"© "+(0,s.zw)(u.year)+" by Chen Chien Yu",1)])}var l={setup(){const t=(new Date).getFullYear();return{year:t}}},a=o(89);const r=(0,a.Z)(l,[["render",u],["__scopeId","data-v-b977a274"]]);var i=r},4006:function(t,e,o){o.d(e,{Z:function(){return p}});var n=o(3396),s=o(7139);const c={class:"progress-bar"};function u(t,e,o,u,l,a){return(0,n.wg)(),(0,n.iD)("ul",c,[(0,n._)("li",{class:(0,s.C_)(["left",{active:1===u.step}])},"1.確認訂單",2),(0,n._)("li",{class:(0,s.C_)({active:2===u.step})},"2.填寫資料",2),(0,n._)("li",{class:(0,s.C_)(["right",{active:3===u.step}])},"3.送出訂單",2)])}var l=o(4870),a=o(2483),r={setup(){const t=(0,a.yj)(),e=(0,l.iH)(1);return(0,n.bv)((()=>{"/checkout"===t.path&&(e.value=1),"/buyerInfo"===t.path&&(e.value=2),"/sendOrder"===t.path&&(e.value=3)})),{step:e}}},i=o(89);const d=(0,i.Z)(r,[["render",u],["__scopeId","data-v-ac7df154"]]);var p=d},2878:function(t,e,o){o.r(e),o.d(e,{default:function(){return x}});var n=o(3396),s=o(7139),c=o(9242);const u=t=>((0,n.dD)("data-v-aa1bd672"),t=t(),(0,n.Cn)(),t),l={class:"checkout"},a=u((()=>(0,n._)("div",{class:"header"},[(0,n._)("h1",null,"確認訂單")],-1))),r={class:"shopping-details"},i={class:"container"},d={class:"table text-center text-white"},p=u((()=>(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{scope:"col"},"名稱"),(0,n._)("th",{scope:"col"},"價格 / 數量"),(0,n._)("th",{scope:"col"},"合計")])],-1))),_={colspan:"3"},h={class:"d-flex justify-content-center"},v=["disabled"],b=["disabled"],C=u((()=>(0,n._)("th",{colspan:"1"},null,-1))),f={colspan:"1",class:"text-end"},m={colspan:"1"},g={class:"row justify-content-center"},w={class:"btn-group col-md-6"};function k(t,e,o,u,k,I){const y=(0,n.up)("ProgressBar"),z=(0,n.up)("router-link"),D=(0,n.up)("Footer");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",l,[a,(0,n.Wm)(y),(0,n._)("div",r,[(0,n._)("div",i,[(0,n._)("table",d,[p,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(u.shoppingCart,(t=>((0,n.wg)(),(0,n.iD)("tr",{key:t.id},[(0,n._)("td",null,(0,s.zw)(t.title),1),(0,n._)("td",null,"$"+(0,s.zw)(t.price)+" / "+(0,s.zw)(t.qty),1),(0,n._)("td",null,"$"+(0,s.zw)(t.totalPrice),1)])))),128)),(0,n._)("tr",null,[(0,n._)("td",_,[(0,n._)("div",h,[(0,n.wy)((0,n._)("input",{type:"text","aria-label":"1",placeholder:"輸入優惠碼",class:"form-control rounded-0 w-50","onUpdate:modelValue":e[0]||(e[0]=t=>u.couponCode=t),disabled:"已使用優惠券"===u.couponCode},null,8,v),[[c.nr,u.couponCode,void 0,{trim:!0}]]),(0,n._)("button",{class:"btn rounded-0 use",onClick:e[1]||(e[1]=(...t)=>u.useCoupon&&u.useCoupon(...t)),disabled:"已使用優惠券"===u.couponCode},"使用",8,b)])])]),(0,n._)("tr",null,[C,(0,n._)("th",f,"總計 $"+(0,s.zw)(u.sum),1),(0,n._)("th",m,"折扣後: $"+(0,s.zw)(u.couponPrice),1)])])]),(0,n._)("div",g,[(0,n._)("div",w,[(0,n.Wm)(z,{to:"/cart",class:"btn"},{default:(0,n.w5)((()=>[(0,n.Uk)("返回修改")])),_:1}),(0,n.Wm)(z,{to:"/buyerInfo",class:"btn",onClick:u.writeItemInfo},{default:(0,n.w5)((()=>[(0,n.Uk)("下一步")])),_:1},8,["onClick"])])])])])]),(0,n.Wm)(D)],64)}var I=o(4006),y=o(8013),z=o(4870),D=o(65),Z={components:{Footer:y.Z,ProgressBar:I.Z},setup(){const t=(0,D.oR)(),e=(0,z.iH)(""),o=(0,n.Fl)((()=>t.state.shoppingCart.shoppingCart)),s=(0,n.Fl)((()=>t.getters["shoppingCart/sum"])),c=()=>{const t=JSON.parse(sessionStorage.getItem("orderInfo"));void 0!==t.useCoupon&&!0===t.useCoupon&&(e.value="已使用優惠券")};(0,n.bv)((()=>{t.commit("checkout/initSum",s.value),t.commit("checkout/initSessionStorage"),c()}));const u=()=>{t.commit("checkout/useCoupon",{couponCode:e.value,sum:s.value})},l=(0,n.Fl)((()=>t.getters["checkout/couponPrice"])),a=()=>{t.commit("checkout/writeItemInfo",o.value)};return{shoppingCart:o,couponCode:e,sum:s,couponPrice:l,useCoupon:u,writeItemInfo:a,keepInput:c}}},F=o(89);const P=(0,F.Z)(Z,[["render",k],["__scopeId","data-v-aa1bd672"]]);var x=P}}]);
//# sourceMappingURL=878.0b35c444.js.map