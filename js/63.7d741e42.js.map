{"version":3,"file":"js/63.7d741e42.js","mappings":"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","sources":["webpack://light-bulb/./src/components/FooterComponent.vue","webpack://light-bulb/./src/components/FooterComponent.vue?fdb7","webpack://light-bulb/./src/components/ProgressBar.vue","webpack://light-bulb/./src/components/ProgressBar.vue?6a3a","webpack://light-bulb/./src/views/front/BuyerInfo.vue","webpack://light-bulb/./src/views/front/BuyerInfo.vue?ca43"],"sourcesContent":["<template>\n  <div class=\"footer\">\n    <h3>© {{ year }} by Chen Chien Yu</h3>\n  </div>\n</template>\n\n<script>\nexport default {\n  setup() {\n    const year = new Date().getFullYear();\n    return { year };\n  },\n\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.footer{\n  text-align: center;\n  padding: 2rem;\n  background: rgb(8, 8, 11);;\n  h3{\n    font-size: 1rem;\n    color: #aaa;\n    font-weight: 300;\n  }\n}\n</style>\n","import { render } from \"./FooterComponent.vue?vue&type=template&id=b977a274&scoped=true\"\nimport script from \"./FooterComponent.vue?vue&type=script&lang=js\"\nexport * from \"./FooterComponent.vue?vue&type=script&lang=js\"\n\nimport \"./FooterComponent.vue?vue&type=style&index=0&id=b977a274&lang=scss&scoped=true\"\n\nimport exportComponent from \"S:\\\\myProject\\\\bulb\\\\light-bulb-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b977a274\"]])\n\nexport default __exports__","<template>\n  <ul class=\"progress-bar\">\n    <li class=\"left\" :class=\"{'active': step ===1}\">1.確認訂單</li>\n    <li :class=\"{'active': step ===2}\">2.填寫資料</li>\n    <li class=\"right\" :class=\"{'active': step ===3}\">3.送出訂單</li>\n  </ul>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue';\nimport { useRoute } from 'vue-router';\n\nexport default {\n  setup() {\n    const route = useRoute();\n    const step = ref(1);\n\n    onMounted(() => {\n      if (route.path === '/checkout') {\n        step.value = 1;\n      }\n      if (route.path === '/buyerInfo') {\n        step.value = 2;\n      }\n      if (route.path === '/sendOrder') {\n        step.value = 3;\n      }\n    });\n\n    return { step };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\nul.progress-bar {\n  padding-top: 5rem;\n  display: flex;\n  flex-direction: row;\n  padding-left: 0;\n  list-style: none;\n  color: rgb(255, 211, 77);\n\n  li {\n    padding: 1.5rem 3rem;\n    border: 1px solid rgb(255, 211, 77);\n\n    @media (max-width: 767px) {\n      padding: .5rem 1rem;\n      font-size: 14px;\n    }\n  }\n\n  li.left {\n    border-radius: .5rem 0 0 .5rem;\n  }\n\n  li.right {\n    border-radius: 0 .5rem .5rem 0;\n  }\n}\n\n.active{\n  background: rgb(255, 211, 77);\n  color: #111;\n}\n</style>\n","import { render } from \"./ProgressBar.vue?vue&type=template&id=ac7df154&scoped=true\"\nimport script from \"./ProgressBar.vue?vue&type=script&lang=js\"\nexport * from \"./ProgressBar.vue?vue&type=script&lang=js\"\n\nimport \"./ProgressBar.vue?vue&type=style&index=0&id=ac7df154&lang=scss&scoped=true\"\n\nimport exportComponent from \"S:\\\\myProject\\\\bulb\\\\light-bulb-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ac7df154\"]])\n\nexport default __exports__","<template>\n  <div class=\"buyer-info\">\n    <div class=\"header\">\n      <h1>填寫資料</h1>\n    </div>\n    <ProgressBar />\n    <div class=\"info container\">\n      <div class=\"col-10 col-md-6 mx-auto\">\n        <form class=\"row g-3\">\n          <div class=\"col-md-6\">\n            <input type=\"text\" class=\"form-control\" id=\"recipient-name\"\n            aria-label=\"1\" placeholder=\"收件人姓名\"\n              v-model=\"recipientInfo.recipientName\">\n          </div>\n          <div class=\"col-md-6\">\n            <input type=\"tel\" class=\"form-control\" id=\"recipient-phone\"\n            aria-label=\"1\" placeholder=\"收件人電話\"\n              v-model=\"recipientInfo.recipientPhone\">\n          </div>\n          <div class=\"col-lg-12\">\n            <button class=\"btn same w-100\" @click.prevent=\"sameAsBuyer\">收件人就是我</button>\n          </div>\n          <div class=\"col-12\">\n            <input type=\"text\" class=\"form-control\" id=\"inputAddress\" placeholder=\"收件地址\"\n            aria-label=\"1\"\n              v-model=\"recipientInfo.recipientAddress\">\n          </div>\n          <div class=\"col btn-group\">\n            <RouterLink to=\"/checkout\" class=\"btn\">返回</RouterLink>\n            <RouterLink to=\"\" class=\"btn\" @click.prevent=\"writeBuyerInfo\">下一步</RouterLink>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n  <Footer />\n</template>\n\n<script>\nimport Swal from 'sweetalert2';\nimport ProgressBar from '@/components/ProgressBar.vue';\nimport Footer from '@/components/FooterComponent.vue';\nimport { ref, onMounted } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nimport axios from 'axios';\n\nexport default {\n  components: { Footer, ProgressBar },\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const buyerInfo = ref({\n      buyerName: '',\n      buyerPhone: '',\n      buyerAddress: '',\n    });\n    const recipientInfo = ref({\n      recipientName: '',\n      recipientPhone: '',\n      recipientAddress: '',\n    });\n\n    // 確保路由切換後再切回欄位資料還在\n    const keepInputShow = () => {\n      const x = JSON.parse(sessionStorage.getItem('orderInfo'));\n      if (x.recipientName !== undefined) {\n        recipientInfo.value.recipientName = x.recipientName;\n        recipientInfo.value.recipientPhone = x.recipientPhone;\n        recipientInfo.value.recipientAddress = x.recipientAddress;\n      }\n    };\n\n    // 取得帳號資訊(購買者(自己))\n    const getBuyerInfo = () => {\n      store.commit('showLoadingCircle', true);\n      const id = localStorage.getItem('userId');\n      axios.get(`${process.env.VUE_APP_API}/customer/user/${id}`, { withCredentials: true })\n        .then((res) => {\n          const x = buyerInfo.value;\n          x.buyerName = res.data.name;\n          x.buyerPhone = res.data.tel;\n          x.buyerAddress = res.data.address;\n          store.commit('showLoadingCircle', false);\n        })\n        // eslint-disable-next-line no-alert\n        .catch((e) => alert(e));\n    };\n\n    onMounted(() => {\n      store.commit('checkout/initSessionStorage');\n      keepInputShow();\n      getBuyerInfo();\n    });\n\n    // 收件人就是我按鈕事件\n    const sameAsBuyer = () => {\n      const x = recipientInfo.value;\n      const y = buyerInfo.value;\n      x.recipientName = y.buyerName;\n      x.recipientPhone = y.buyerPhone;\n      x.recipientAddress = y.buyerAddress;\n    };\n\n    // 寫入收件資料 && 驗證欄位是否為空\n    const writeBuyerInfo = () => {\n      const x = Object.values(recipientInfo.value);\n      if (x.includes('') || x.includes(undefined)) {\n        Swal.fire({\n          icon: 'error',\n          title: '欄位不能為空',\n          text: '所有欄位都必須填寫',\n        });\n      } else {\n        const data = { ...buyerInfo.value, ...recipientInfo.value };\n        store.commit('checkout/writeBuyerInfo', data);\n        router.push('/sendOrder');\n      }\n    };\n\n    return {\n      buyerInfo,\n      sameAsBuyer,\n      writeBuyerInfo,\n      keepInputShow,\n      recipientInfo,\n      getBuyerInfo,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.buyer-info {\n  background: rgb(18, 18, 29);\n}\n\n.header {\n  background: url(@/assets/img/shoppingCartPage.jpg);\n  width: 100%;\n  height: 300px;\n  background-size: cover;\n  background-position: center 60%;\n\n  h1 {\n    background: #00000080;\n    color: #fff;\n    font-weight: 700;\n    letter-spacing: .5rem;\n    line-height: 300px;\n    text-align: center;\n    backdrop-filter: blur(3px);\n  }\n}\n\n.info {\n  padding: 5rem 0;\n\n  input {\n    background: #111;\n    color: #fff;\n  }\n\n  button.same {\n    border: 1px solid rgb(255, 211, 77);\n    color: rgb(255, 211, 77);\n    padding: .2rem .3rem;\n\n    &:hover {\n      background: rgb(255, 211, 77);\n      color: #333;\n    }\n  }\n\n  .btn-group {\n    padding: 3rem 0;\n    display: flex;\n    justify-content: center;\n\n    a {\n      margin: 0 1rem;\n      border: 1px solid rgb(255, 211, 77);\n      color: rgb(255, 211, 77);\n\n      &:hover {\n        background: rgb(255, 211, 77);\n        color: #333;\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./BuyerInfo.vue?vue&type=template&id=5297e9c8&scoped=true\"\nimport script from \"./BuyerInfo.vue?vue&type=script&lang=js\"\nexport * from \"./BuyerInfo.vue?vue&type=script&lang=js\"\n\nimport \"./BuyerInfo.vue?vue&type=style&index=0&id=5297e9c8&lang=scss&scoped=true\"\n\nimport exportComponent from \"S:\\\\myProject\\\\bulb\\\\light-bulb-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5297e9c8\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","$setup","setup","year","Date","getFullYear","__exports__","render","route","useRoute","step","ref","onMounted","path","value","_hoisted_2","_createVNode","_component_ProgressBar","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","type","id","placeholder","recipientName","_hoisted_7","recipientPhone","_hoisted_8","onClick","_hoisted_9","recipientAddress","_hoisted_10","_component_RouterLink","to","_component_Footer","components","Footer","ProgressBar","store","useStore","router","useRouter","buyerInfo","buyerName","buyerPhone","buyerAddress","recipientInfo","keepInputShow","x","JSON","parse","sessionStorage","getItem","undefined","getBuyerInfo","commit","localStorage","axios","withCredentials","then","res","data","name","tel","address","catch","e","alert","sameAsBuyer","y","writeBuyerInfo","Object","values","includes","Swal","icon","title","text","push"],"sourceRoot":""}