{"version":3,"file":"js/270.e91b8235.js","mappings":"8PAGIA,EAAAA,EAAAA,GAA2B,MAAvBC,MAAM,SAAQ,QAAI,K,GAEfA,MAAM,S,UACXD,EAAAA,EAAAA,GAQQ,eAPNA,EAAAA,EAAAA,GAMK,YALHA,EAAAA,EAAAA,GAAuB,MAAnBE,MAAM,OAAM,OAChBF,EAAAA,EAAAA,GAAwB,MAApBE,MAAM,OAAM,QAChBF,EAAAA,EAAAA,GAAuB,MAAnBE,MAAM,OAAM,OAChBF,EAAAA,EAAAA,GAAuB,MAAnBE,MAAM,OAAM,OAChBF,EAAAA,EAAAA,GAAS,e,wDAVjBG,EAAAA,EAAAA,IAyBM,YAxBJC,GAEAJ,EAAAA,EAAAA,GAqBQ,QArBRK,EAqBQ,CApBNC,GASAN,EAAAA,EAAAA,GAUQ,6BATNG,EAAAA,EAAAA,IAQKI,EAAAA,GAAAA,MAAAA,EAAAA,EAAAA,IARcC,EAAAA,OAARC,K,WAAXN,EAAAA,EAAAA,IAQK,MARsBO,IAAKD,EAAKE,M,EACnCX,EAAAA,EAAAA,GAAwB,mBAAjBS,EAAKG,MAAI,IAChBZ,EAAAA,EAAAA,GAA6B,mBAAtBS,EAAKI,WAAS,IACrBb,EAAAA,EAAAA,GAEK,0BADHG,EAAAA,EAAAA,IAA2DI,EAAAA,GAAAA,MAAAA,EAAAA,EAAAA,IAAxCE,EAAKK,SAAO,CAApBC,EAAEC,M,WAAbb,EAAAA,EAAAA,IAA2D,KAAzBO,IAAKM,IAAC,QAAKD,EAAEE,OAAK,M,SAEtDjB,EAAAA,EAAAA,GAA+B,mBAAxBS,EAAKS,aAAW,IACvBlB,EAAAA,EAAAA,GAA+E,YAA3EA,EAAAA,EAAAA,GAAsE,UAA9DC,MAAM,aAAckB,QAAK,GAAEX,EAAAA,YAAYC,EAAKE,OAAO,KAAE,Y,sDAa3E,GACES,QACE,MAAMC,GAAQC,EAAAA,EAAAA,IAAI,IACZC,GAASC,EAAAA,EAAAA,MACTC,GAAQC,EAAAA,EAAAA,MAERC,EAAeC,UACnB,IACEH,EAAMI,OAAO,qBAAqB,GAClC,MAAMC,QAAYC,EAAAA,EAAAA,IAAW,0CAAyC,CAAEC,iBAAiB,IACzFX,EAAMY,YAAcH,EAAII,KAAKb,MAC7BI,EAAMI,OAAO,qBAAqB,EAIpC,CAHE,MAAOM,GAEPC,MAAMD,EACR,GAGIE,EAAcT,UAClB,IACEH,EAAMI,OAAO,qBAAqB,SAC5BE,EAAAA,EAAAA,UAAc,2CAAyCO,KAC7Df,EAAOgB,GAAG,EAIZ,CAHE,MAAOJ,GAEPC,MAAMD,EACR,GAOF,OAJAK,EAAAA,EAAAA,KAAU,KACRb,GAAc,IAGT,CAAEN,QAAOM,eAAcU,cAChC,G,QC/DF,MAAMI,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://light-bulb/./src/views/back/ManagementOrder.vue","webpack://light-bulb/./src/views/back/ManagementOrder.vue?5221"],"sourcesContent":["<!-- eslint-disable no-alert -->\n<template>\n  <div>\n    <h3 class=\"title\">訂單管理</h3>\n\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th scope=\"col\">日期</th>\n          <th scope=\"col\">購買人</th>\n          <th scope=\"col\">品項</th>\n          <th scope=\"col\">金額</th>\n          <th></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"item in order\" :key=\"item.d_id\">\n          <td>{{ item.date }}</td>\n          <td>{{ item.buyerName }}</td>\n          <td>\n            <p v-for=\"(p,i) in item.buyItem\" :key=\"i\">{{ p.title }}</p>\n          </td>\n          <td>{{ item.couponPrice }}</td>\n          <td><button class=\"delete btn\" @click=\"deleteOrder(item.d_id)\">刪除</button></td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { useStore } from 'vuex';\n\nexport default {\n  setup() {\n    const order = ref([]);\n    const router = useRouter();\n    const store = useStore();\n\n    const getOrderData = async () => {\n      try {\n        store.commit('showLoadingCircle', true);\n        const res = await axios.get(`${process.env.VUE_APP_API}/admin/order`, { withCredentials: true });\n        order.value = await res.data.order;\n        store.commit('showLoadingCircle', false);\n      } catch (e) {\n        // eslint-disable-next-line no-alert\n        alert(e);\n      }\n    };\n\n    const deleteOrder = async (id) => {\n      try {\n        store.commit('showLoadingCircle', true);\n        await axios.delete(`${process.env.VUE_APP_API}/admin/order/${id}`);\n        router.go(0);\n      } catch (e) {\n        // eslint-disable-next-line no-alert\n        alert(e);\n      }\n    };\n\n    onMounted(() => {\n      getOrderData();\n    });\n\n    return { order, getOrderData, deleteOrder };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.title {\n  margin: 2rem;\n  color: #fff;\n}\n\ntable {\n  width: 80%;\n  margin: 2rem;\n  color: #fff;\n\n  button.delete{\n    background: rgb(249, 85, 85);\n    color: #fff;\n  }\n}\n</style>\n","import { render } from \"./ManagementOrder.vue?vue&type=template&id=1ccd0b69&scoped=true\"\nimport script from \"./ManagementOrder.vue?vue&type=script&lang=js\"\nexport * from \"./ManagementOrder.vue?vue&type=script&lang=js\"\n\nimport \"./ManagementOrder.vue?vue&type=style&index=0&id=1ccd0b69&lang=scss&scoped=true\"\n\nimport exportComponent from \"S:\\\\myProject\\\\bulb\\\\light-bulb-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1ccd0b69\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","scope","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_Fragment","$setup","item","key","d_id","date","buyerName","buyItem","p","i","title","couponPrice","onClick","setup","order","ref","router","useRouter","store","useStore","getOrderData","async","commit","res","axios","withCredentials","value","data","e","alert","deleteOrder","id","go","onMounted","__exports__","render"],"sourceRoot":""}