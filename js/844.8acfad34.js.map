{"version":3,"file":"js/844.8acfad34.js","mappings":"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","sources":["webpack://light-bulb/./src/components/FooterComponent.vue","webpack://light-bulb/./src/components/FooterComponent.vue?fdb7","webpack://light-bulb/./src/components/ProgressBar.vue","webpack://light-bulb/./src/components/ProgressBar.vue?6a3a","webpack://light-bulb/./src/views/front/SendOrder.vue","webpack://light-bulb/./src/views/front/SendOrder.vue?1af7"],"sourcesContent":["<template>\n  <div class=\"footer\">\n    <h3>© {{ year }} by Chen Chien Yu</h3>\n  </div>\n</template>\n\n<script>\nexport default {\n  setup() {\n    const year = new Date().getFullYear();\n    return { year };\n  },\n\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.footer{\n  text-align: center;\n  padding: 2rem;\n  background: rgb(8, 8, 11);;\n  h3{\n    font-size: 1rem;\n    color: #aaa;\n    font-weight: 300;\n  }\n}\n</style>\n","import { render } from \"./FooterComponent.vue?vue&type=template&id=b977a274&scoped=true\"\nimport script from \"./FooterComponent.vue?vue&type=script&lang=js\"\nexport * from \"./FooterComponent.vue?vue&type=script&lang=js\"\n\nimport \"./FooterComponent.vue?vue&type=style&index=0&id=b977a274&lang=scss&scoped=true\"\n\nimport exportComponent from \"S:\\\\myProject\\\\bulb\\\\light-bulb-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b977a274\"]])\n\nexport default __exports__","<template>\n  <ul class=\"progress-bar\">\n    <li class=\"left\" :class=\"{'active': step ===1}\">1.確認訂單</li>\n    <li :class=\"{'active': step ===2}\">2.填寫資料</li>\n    <li class=\"right\" :class=\"{'active': step ===3}\">3.送出訂單</li>\n  </ul>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue';\nimport { useRoute } from 'vue-router';\n\nexport default {\n  setup() {\n    const route = useRoute();\n    const step = ref(1);\n\n    onMounted(() => {\n      if (route.path === '/checkout') {\n        step.value = 1;\n      }\n      if (route.path === '/buyerInfo') {\n        step.value = 2;\n      }\n      if (route.path === '/sendOrder') {\n        step.value = 3;\n      }\n    });\n\n    return { step };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\nul.progress-bar {\n  padding-top: 5rem;\n  display: flex;\n  flex-direction: row;\n  padding-left: 0;\n  list-style: none;\n  color: rgb(255, 211, 77);\n\n  li {\n    padding: 1.5rem 3rem;\n    border: 1px solid rgb(255, 211, 77);\n\n    @media (max-width: 767px) {\n      padding: .5rem 1rem;\n      font-size: 14px;\n    }\n  }\n\n  li.left {\n    border-radius: .5rem 0 0 .5rem;\n  }\n\n  li.right {\n    border-radius: 0 .5rem .5rem 0;\n  }\n}\n\n.active{\n  background: rgb(255, 211, 77);\n  color: #111;\n}\n</style>\n","import { render } from \"./ProgressBar.vue?vue&type=template&id=ac7df154&scoped=true\"\nimport script from \"./ProgressBar.vue?vue&type=script&lang=js\"\nexport * from \"./ProgressBar.vue?vue&type=script&lang=js\"\n\nimport \"./ProgressBar.vue?vue&type=style&index=0&id=ac7df154&lang=scss&scoped=true\"\n\nimport exportComponent from \"S:\\\\myProject\\\\bulb\\\\light-bulb-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ac7df154\"]])\n\nexport default __exports__","<template>\n  <div class=\"send-order\">\n    <div class=\"header\">\n      <h1>送出訂單</h1>\n    </div>\n    <ProgressBar />\n    <div class=\"order\">\n      <div class=\"container\">\n        <table class=\"table text-center text-white\">\n          <thead>\n            <tr>\n              <th scope=\"col\">名稱</th>\n              <th scope=\"col\">價格 / 數量</th>\n              <th scope=\"col\">合計</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"item in itemInfo\" :key=\"item.id\">\n              <td>{{ item.title }}</td>\n              <td>${{ item.price }} / {{ item.qty }}</td>\n              <td>${{ item.totalPrice }}</td>\n            </tr>\n            <tr>\n              <th colspan=\"1\"></th>\n              <th colspan=\"1\" class=\"\">總計 ${{ orderInfo.sum }}</th>\n              <th colspan=\"1\">折扣後: ${{ orderInfo.couponPrice }}</th>\n            </tr>\n            <tr>\n              <th colspan=\"4\"></th>\n            </tr>\n            <tr>\n              <th scope=\"col\">訂購人 / 電話</th>\n              <th scope=\"col\">收件人 / 電話</th>\n              <th scope=\"col\">收件地址</th>\n            </tr>\n            <tr>\n              <td>{{ orderInfo.buyerName }} / {{ orderInfo.buyerPhone }}</td>\n              <td>{{ orderInfo.recipientName }} / {{ orderInfo.recipientPhone }}</td>\n              <td>{{ orderInfo.recipientAddress }}</td>\n            </tr>\n          </tbody>\n        </table>\n\n        <div class=\"row justify-content-center\">\n          <div class=\"btn-group col-md-6\">\n            <router-link to='/buyerInfo' class=\"btn\">上一頁</router-link>\n            <router-link to='/' class=\"btn\" @click=\"sendOrder\">送出訂單</router-link>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <Footer />\n</template>\n\n<script>\nimport ProgressBar from '@/components/ProgressBar.vue';\nimport Footer from '@/components/FooterComponent.vue';\nimport { computed, onMounted } from 'vue';\nimport { useStore } from 'vuex';\nimport Swal from 'sweetalert2';\nimport axios from 'axios';\n\nexport default {\n  components: { Footer, ProgressBar },\n  setup() {\n    const store = useStore();\n    const orderInfo = computed(() => store.state.checkout.orderInfo);\n    const itemInfo = computed(() => store.state.checkout.orderInfo.buyItem);\n    onMounted(() => {\n      store.commit('checkout/initSessionStorage');\n    });\n\n    const sendOrder = async () => {\n      const time = new Date().toLocaleString();\n      try {\n        store.commit('showLoadingCircle', true);\n        // 透過API將資料傳至後端(訂單api)\n        const data = await JSON.parse(sessionStorage.getItem('orderInfo'));\n        await axios.post(`${process.env.VUE_APP_API}/order`, { ...data, date: time });\n\n        // 清空vuex && firebase購物車\n        store.commit('shoppingCart/resetCartAndUser');\n        await store.dispatch('shoppingCart/saveOnFirebase');\n        sessionStorage.removeItem('orderInfo');\n        store.commit('showLoadingCircle', false);\n\n        Swal.fire({\n          icon: 'success',\n          title: '訂單已送出',\n          showConfirmButton: false,\n          timer: 1500,\n        });\n      } catch (e) {\n        // eslint-disable-next-line no-alert\n        alert(e);\n        console.log(e);\n      }\n    };\n\n    return {\n      orderInfo, itemInfo, sendOrder,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.send-order {\n  background: rgb(18, 18, 29);\n}\n\n.header {\n  background: url(@/assets/img/shoppingCartPage.jpg);\n  width: 100%;\n  height: 300px;\n  background-size: cover;\n  background-position: center 60%;\n\n  h1 {\n    background: #00000080;\n    color: #fff;\n    font-weight: 700;\n    letter-spacing: .5rem;\n    line-height: 300px;\n    text-align: center;\n    backdrop-filter: blur(3px);\n  }\n}\n\n.order {\n  padding: 5rem 0;\n\n  .btn-group {\n    padding: 3rem 0;\n    display: flex;\n    justify-content: center;\n\n    a {\n      margin: 0 1rem;\n      border: 1px solid rgb(255, 211, 77);\n      color: rgb(255, 211, 77);\n\n      &:hover {\n        background: rgb(255, 211, 77);\n        color: #333;\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./SendOrder.vue?vue&type=template&id=0a823165&scoped=true\"\nimport script from \"./SendOrder.vue?vue&type=script&lang=js\"\nexport * from \"./SendOrder.vue?vue&type=script&lang=js\"\n\nimport \"./SendOrder.vue?vue&type=style&index=0&id=0a823165&lang=scss&scoped=true\"\n\nimport exportComponent from \"S:\\\\myProject\\\\bulb\\\\light-bulb-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0a823165\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","$setup","setup","year","Date","getFullYear","__exports__","render","route","useRoute","step","ref","onMounted","path","value","scope","colspan","_hoisted_2","_createVNode","_component_ProgressBar","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_Fragment","item","key","id","title","price","qty","totalPrice","_hoisted_7","_hoisted_8","sum","_hoisted_9","couponPrice","_hoisted_10","_hoisted_11","buyerName","buyerPhone","recipientName","recipientPhone","recipientAddress","_hoisted_12","_hoisted_13","_component_router_link","to","onClick","_component_Footer","components","Footer","ProgressBar","store","useStore","orderInfo","computed","state","checkout","itemInfo","buyItem","commit","sendOrder","async","time","toLocaleString","data","JSON","parse","sessionStorage","getItem","axios","date","dispatch","removeItem","Swal","icon","showConfirmButton","timer","e","alert","console","log"],"sourceRoot":""}