"use strict";(self["webpackChunklight_bulb"]=self["webpackChunklight_bulb"]||[]).push([[27],{5027:function(t,a,e){e.r(a),e.d(a,{default:function(){return _}});var r=e(3396),o=e(9242);const i=t=>((0,r.dD)("data-v-44a5616e"),t=t(),(0,r.Cn)(),t),n={class:"wrapper"},l={class:"col-10 col-md-6 col-lg-3 login-wrap"},s=i((()=>(0,r._)("h2",null,"登入",-1))),c={class:"register-btn-wrap"};function u(t,a,e,i,u,p){const d=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",n,[(0,r._)("form",l,[s,(0,r.wy)((0,r._)("input",{type:"email",placeholder:"請輸入Email","aria-label":"a",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=t=>i.inputData.email=t)},null,512),[[o.nr,i.inputData.email,void 0,{trim:!0}]]),(0,r.wy)((0,r._)("input",{type:"password",placeholder:"請輸入密碼","aria-label":"a",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=t=>i.inputData.password=t)},null,512),[[o.nr,i.inputData.password,void 0,{trim:!0}]]),(0,r._)("button",{class:"btn",onClick:a[2]||(a[2]=(0,o.iM)(((...t)=>i.login&&i.login(...t)),["prevent"]))},"登入"),(0,r._)("div",c,[(0,r.Wm)(d,{to:"register"},{default:(0,r.w5)((()=>[(0,r.Uk)("註冊")])),_:1})])])])}e(7658);var p=e(4870),d=e(6943),m=e(2483),w=e(2492),g=e.n(w),h=e(65),b={setup(){const t=(0,p.iH)({}),a=(0,m.tv)(),e=(0,h.oR)();async function r(){try{e.commit("showLoadingCircle",!0);const r=await d.Z.post("https://bulbgo.onrender.com/customer/login",t.value,{withCredentials:!0});await r.data.success?(localStorage.setItem("userId",r.data.user),e.commit("loginStatus",!0),await e.dispatch("shoppingCart/getCartOnFirebase"),await e.dispatch("myFavorite/getFavoriteOnFirebase"),await a.push("/user/account")):g().fire({title:r.data.msg,icon:"error",showConfirmButton:!1,timer:1500}),e.commit("showLoadingCircle",!1)}catch(r){alert("error",r)}}return{inputData:t,login:r}}},v=e(89);const f=(0,v.Z)(b,[["render",u],["__scopeId","data-v-44a5616e"]]);var _=f}}]);
//# sourceMappingURL=27.a94d24f1.js.map