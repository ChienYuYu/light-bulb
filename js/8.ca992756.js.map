{"version":3,"file":"js/8.ca992756.js","mappings":"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","sources":["webpack://light-bulb/./src/views/front/RegisterView.vue","webpack://light-bulb/./src/views/front/RegisterView.vue?b72b"],"sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <form class=\"col-10 col-md-6 col-lg-3 register-wrap\">\n      <h2>註冊</h2>\n      <input type=\"email\" placeholder=\"請輸入Email\" aria-label=\"a\" class=\"form-control\"\n      v-model.trim=\"inputData.email\">\n      <input type=\"password\" placeholder=\"請輸入密碼\" aria-label=\"a\" class=\"form-control\"\n      v-model.trim=\"inputData.password1\">\n      <input type=\"password\" placeholder=\"再次輸入密碼\" aria-label=\"a\" class=\"form-control\"\n        v-model.trim=\"inputData.password2\">\n      <input type=\"text\" placeholder=\"請輸入姓名\" aria-label=\"a\" class=\"form-control\"\n      v-model.trim=\"inputData.name\">\n\n      <button class=\"btn\" @click.prevent=\"register\">註冊</button>\n      <div class=\"login-btn-wrap\">\n        <router-link to=\"/login\">返回登入</router-link>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue';\nimport axios from 'axios';\nimport { useRouter } from 'vue-router';\nimport Swal from 'sweetalert2';\nimport { useStore } from 'vuex';\n\nexport default {\n  setup() {\n    const router = useRouter();\n    const inputData = ref({});\n    const store = useStore();\n\n    async function register() {\n      const emailRule = /^\\w+((-\\w+)|(\\.\\w+))*@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z]+$/;\n\n      if (!inputData.value.name || !inputData.value.email\n        || !inputData.value.password1 || !inputData.value.password2) {\n        Swal.fire({\n          title: '所有欄位為必填',\n          icon: 'error',\n          showConfirmButton: false,\n          timer: 1500,\n        });\n        return;\n      }\n\n      if (inputData.value.email.search(emailRule) === -1) {\n        Swal.fire({\n          title: 'email格式錯誤',\n          icon: 'error',\n          showConfirmButton: false,\n          timer: 1500,\n        });\n        return;\n      }\n\n      if (inputData.value.password1.length < 8) {\n        Swal.fire({\n          title: '密碼長度至少為8碼',\n          icon: 'error',\n          showConfirmButton: false,\n          timer: 1500,\n        });\n        return;\n      }\n\n      if (inputData.value.password1 !== inputData.value.password2) {\n        Swal.fire({\n          title: '兩次密碼輸入不同!',\n          icon: 'error',\n          showConfirmButton: false,\n          timer: 1500,\n        });\n        return;\n      }\n\n      const sendData = {\n        email: inputData.value.email,\n        password: inputData.value.password1,\n        name: inputData.value.name,\n      };\n\n      try {\n        store.commit('showLoadingCircle', true);\n        const res = await axios.post(`${process.env.VUE_APP_API}/customer/register`, sendData);\n        if (await res.data.success === true) {\n          await Swal.fire({\n            title: res.data.msg,\n            icon: 'success',\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          router.push('/login');\n        } else {\n          await Swal.fire({\n            title: res.data.msg,\n            icon: 'error',\n            showConfirmButton: false,\n            timer: 1500,\n          });\n        }\n        store.commit('showLoadingCircle', false);\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    return {\n      inputData,\n      register,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.wrapper {\n  height: 100vh;\n  background-image: url('@/assets/img/loginBG.jpg');\n  background-size: cover;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\nform.register-wrap {\n  border: 1px solid #999;\n  padding: 2rem;\n  border-radius: 1rem;\n  box-shadow: 0 0 5px #111111d0;\n  backdrop-filter: blur(10px);\n  background: #222222a0;\n\n  h2 {\n    color: #fff;\n    text-align: center;\n  }\n\n  input {\n    margin: 2rem 0;\n    background: #111;\n    color: #fff;\n    border: 1px solid #333;\n\n    &:focus {\n      box-shadow: none;\n      border: 1px solid rgb(255, 211, 77);\n    }\n  }\n\n  button {\n    width: 100%;\n    background: rgb(255, 211, 77);\n\n    &:hover {\n      color: #fff;\n    }\n  }\n\n  .login-btn-wrap {\n    display: flex;\n    justify-content: center;\n    padding: 2rem 0;\n\n    a {\n      text-decoration: none;\n      color: #fff;\n    }\n  }\n}\n</style>\n","import { render } from \"./RegisterView.vue?vue&type=template&id=71952df2&scoped=true\"\nimport script from \"./RegisterView.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterView.vue?vue&type=script&lang=js\"\n\nimport \"./RegisterView.vue?vue&type=style&index=0&id=71952df2&lang=scss&scoped=true\"\n\nimport exportComponent from \"S:\\\\myProject\\\\bulb\\\\light-bulb-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-71952df2\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","type","placeholder","$setup","email","password1","password2","name","onClick","_hoisted_4","_createVNode","_component_router_link","to","setup","router","useRouter","inputData","ref","store","useStore","async","register","emailRule","value","Swal","title","icon","showConfirmButton","timer","search","length","sendData","password","commit","res","axios","data","success","msg","push","e","console","log","__exports__","render"],"sourceRoot":""}